<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>General Primer</title>
</head><body>There may be more methods than those listed here: <br/>
<br/>
When Windows authenticates to service- or computeraccounts that have unconstrained delegation enabled, some interesting stuff happens and those accounts end up with a usable TGT. If we (as an attacker) are the ones in control of this account, this TGT can then be used to authenticate to other services.<br/>
See Privilege Escalation &gt; Windows &gt; Relay Everything &gt; Kerberos &gt; <a href="nbk:///b8a3961f-18f2-40df-9ee0-affbfb60d5b8">Kerberos Relay</a>&nbsp;<br/>
<br/>
In this case, we can use the account with SeEnablePrivilegeDelegation, along with MachineAccountQuota, to create and configure a machine account object capable of performing Kerberos unconstrained delegation. <br/>
See Red Teaming &gt; Lateral Movement &gt; <a href="nbk:///26a21d9d-3127-4ae3-81f1-dae67ae8c091">MAQ in Action</a>&nbsp;<br/>
<br/>
<br/>
Same idea behind Kerberos Relay (above)<br/>
As an attacker, once you have found a server with Kerberos Unconstrained Delegation, whatâ€™s next?<ul><li>Compromise the server via an admin or service account.</li>
<li>Social engineer a Domain Admin to connect to any service on the server with unconstrained delegation.</li>
</ul>
See Passwords and Hashes &gt; Kerberos &gt; Unconstrained Delegation &gt; <a href="nbk:///efc5fd48-6074-4cd4-9afe-8d62c7d78b3b">Credential Theft Leveraging Unconstrained Delegation</a>&nbsp;</body></html>