<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>VBoxSharedFolder</title>
</head><body>//http://waleedassar.blogspot.com (@waleedassar)<br/>
//If you happen to have a mapped shared folder inside VirtualBox, then it always has the File system named "VBoxSharedFolderFS".<br/>
#include "stdafx.h"<br/>
#include "windows.h"<br/>
#include "stdio.h"<br/>
<br/>
int main(int argc, char* argv[])<br/>
{<br/>
&#09;for(unsigned char x='A';x&lt;='Z';x++)<br/>
&#09;{<br/>
&#09;&#09;char drv[0x4]={0};<br/>
&#09;&#09;drv[0]=x;<br/>
&#09;&#09;drv[1]=':';<br/>
&#09;&#09;drv[2]='\\';<br/>
&#09;&#09;if(DRIVE_REMOTE==GetDriveType(drv))<br/>
&#09;&#09;{<br/>
&#09;&#09;&#09;char FSName[0x110]={0};<br/>
&#09;&#09;&#09;if(GetVolumeInformation(drv,0,0,0,0,0,FSName,0x100))<br/>
&#09;&#09;&#09;{<br/>
&#09;&#09;&#09;&#09;if(strcmpi("VBoxSharedFolderFS",FSName)==0)<br/>
&#09;&#09;&#09;&#09;{<br/>
&#09;&#09;&#09;&#09;&#09;MessageBox(0,"VirtualBox detected","walied",0);<br/>
&#09;&#09;&#09;&#09;}<br/>
&#09;&#09;&#09;&#09;else<br/>
&#09;&#09;&#09;&#09;{<br/>
&#09;&#09;&#09;&#09;&#09;printf("%s %s\r\n",drv,FSName);<br/>
&#09;&#09;&#09;&#09;}<br/>
&#09;&#09;&#09;}<br/>
&#09;&#09;}<br/>
&#09;}<br/>
&#09;return 0;<br/>
}</body></html>