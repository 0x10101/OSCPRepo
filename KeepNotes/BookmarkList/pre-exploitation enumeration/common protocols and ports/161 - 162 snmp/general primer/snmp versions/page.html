<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>SNMP Versions</title>
</head><body>Protocol versions<br/>
In practice, SNMP implementations often support multiple versions: typically SNMPv1, SNMPv2c, and SNMPv3.<a href="https://en.wikipedia.org/wiki/Simple_Network_Management_Protocol#cite_note-Jacobs-10">[10]</a><a href="https://en.wikipedia.org/wiki/Simple_Network_Management_Protocol#cite_note-11">[11]</a>&nbsp;<br/>
<br/>
<b>&nbsp;Version 1</b><br/>
SNMP version 1 (SNMPv1) is the initial implementation of the SNMP protocol. The design of SNMPv1 was done in the 1980s by a group of collaborators who viewed the officially sponsored OSI/IETF/NSF (National Science Foundation) effort (HEMS/CMIS/CMIP) as both unimplementable in the computing platforms of the time as well as potentially unworkable. SNMP was approved based on a belief that it was an interim protocol needed for taking steps towards large scale deployment of the Internet and its commercialization. <br/>
<br/>
The first <a href="https://en.wikipedia.org/wiki/Request_for_Comments">Request for Comments</a>&nbsp;(RFCs) for SNMP, now known as SNMPv1, appeared in 1988: <br/>
&nbsp;<ul><li><a href="https://en.wikipedia.org/wiki/Request_for_Comments_(identifier)">RFC</a> <a href="https://tools.ietf.org/html/rfc1065">1065</a> — Structure and identification of management information for TCP/IP-based internets</li>
<li><a href="https://en.wikipedia.org/wiki/Request_for_Comments_(identifier)">RFC</a> <a href="https://tools.ietf.org/html/rfc1066">1066</a> — Management information base for network management of TCP/IP-based internets</li>
<li><a href="https://en.wikipedia.org/wiki/Request_for_Comments_(identifier)">RFC</a> <a href="https://tools.ietf.org/html/rfc1067">1067</a> — A simple network management protocol</li>
</ul>
<br/>
In 1990, these documents were superseded by: <br/>
&nbsp;<ul><li><a href="https://en.wikipedia.org/wiki/Request_for_Comments_(identifier)">RFC</a> <a href="https://tools.ietf.org/html/rfc1155">1155</a> — Structure and identification of management information for TCP/IP-based internets</li>
<li><a href="https://en.wikipedia.org/wiki/Request_for_Comments_(identifier)">RFC</a> <a href="https://tools.ietf.org/html/rfc1156">1156</a> — Management information base for network management of TCP/IP-based internets</li>
<li><a href="https://en.wikipedia.org/wiki/Request_for_Comments_(identifier)">RFC</a> <a href="https://tools.ietf.org/html/rfc1157">1157</a> — A simple network management protocol</li>
</ul>
<br/>
In 1991, <a href="https://en.wikipedia.org/wiki/Request_for_Comments_(identifier)">RFC</a> <a href="https://tools.ietf.org/html/rfc1156">1156</a>&nbsp;(MIB-1) was replaced by the more often used: <br/>
&nbsp;<ul><li><a href="https://en.wikipedia.org/wiki/Request_for_Comments_(identifier)">RFC</a> <a href="https://tools.ietf.org/html/rfc1213">1213</a> — Version 2 of management information base (MIB-2) for network management of TCP/IP-based internets</li>
</ul>
<br/>
SNMPv1 is widely used and is the <a href="https://en.wikipedia.org/wiki/De_facto_standard">de facto</a>&nbsp;network management protocol in the Internet community.<a href="https://en.wikipedia.org/wiki/Simple_Network_Management_Protocol#cite_note-12">[12]</a>&nbsp;<br/>
SNMPv1 may be carried by <a href="https://en.wikipedia.org/wiki/Transport_layer">transport layer</a>&nbsp;protocols such as User Datagram Protocol (UDP), Internet Protocol (IP), OSI <a href="https://en.wikipedia.org/wiki/Connectionless-mode_Network_Service">Connectionless-mode Network Service</a>&nbsp;(CLNS), AppleTalk <a href="https://en.wikipedia.org/wiki/Datagram_Delivery_Protocol">Datagram Delivery Protocol</a>&nbsp;(DDP), and Novell <a href="https://en.wikipedia.org/wiki/Internetwork_Packet_Exchange">Internetwork Packet Exchange</a>&nbsp;(IPX). <br/>
<br/>
Version 1 has been criticized for its poor security.<a href="https://en.wikipedia.org/wiki/Simple_Network_Management_Protocol#cite_note-aethis-13">[13]</a>&nbsp;The specification does, in fact, allow room for custom authentication to be used, but widely-used implementations "support only a trivial authentication service that identifies all SNMP messages as authentic SNMP messages."<a href="https://en.wikipedia.org/wiki/Simple_Network_Management_Protocol#cite_note-14">[14]</a>. The security of the messages, therefore, becomes dependent on the security of the channels over which the messages are sent. For example, an organization may consider their internal network to be sufficiently secure that no encryption is necessary for their SNMP messages. In such cases, the "community name", which is transmitted in <a href="https://en.wikipedia.org/wiki/Cleartext">cleartext</a>, tends to be viewed as a de-facto password, in spite of the original specification. <br/>
<br/>
<b>&nbsp;Version 2</b><br/>
SNMPv2, defined by <a href="https://en.wikipedia.org/wiki/Request_for_Comments_(identifier)">RFC</a> <a href="https://tools.ietf.org/html/rfc1441">1441</a>&nbsp;and <a href="https://en.wikipedia.org/wiki/Request_for_Comments_(identifier)">RFC</a> <a href="https://tools.ietf.org/html/rfc1452">1452</a>, revises version 1 and includes improvements in the areas of performance, security and manager-to-manager communications. It introduced <i>GetBulkRequest</i>, an alternative to iterative GetNextRequests for retrieving large amounts of management data in a single request. The new party-based security system introduced in SNMPv2, viewed by many as overly complex, was not widely adopted.<a href="https://en.wikipedia.org/wiki/Simple_Network_Management_Protocol#cite_note-aethis-13">[13]</a>&nbsp;This version of SNMP reached the Proposed Standard level of maturity, but was deemed obsolete by later versions.<a href="https://en.wikipedia.org/wiki/Simple_Network_Management_Protocol#cite_note-rfced-15">[15]</a>&nbsp;<br/>
<br/>
<i>Community-Based Simple Network Management Protocol version 2</i>, or <i>SNMPv2c</i>, is defined in <a href="https://en.wikipedia.org/wiki/Request_for_Comments_(identifier)">RFC</a> <a href="https://tools.ietf.org/html/rfc1901">1901</a>–<a href="https://en.wikipedia.org/wiki/Request_for_Comments_(identifier)">RFC</a> <a href="https://tools.ietf.org/html/rfc1908">1908</a>. SNMPv2c comprises SNMPv2 <i>without</i>&nbsp;the controversial new SNMP v2 security model, using instead the simple community-based security scheme of SNMPv1. This version is one of relatively few standards to meet the IETF's Draft Standard maturity level, and was widely considered the <a href="https://en.wikipedia.org/wiki/De_facto"><i>de facto</i></a>&nbsp;SNMPv2 standard.<a href="https://en.wikipedia.org/wiki/Simple_Network_Management_Protocol#cite_note-rfced-15">[15]</a>&nbsp;It was later restated as part of SNMPv3.<a href="https://en.wikipedia.org/wiki/Simple_Network_Management_Protocol#cite_note-16">[16]</a>&nbsp;<br/>
<br/>
<i>User-Based Simple Network Management Protocol version 2</i>, or <i>SNMPv2u</i>, is defined in <a href="https://en.wikipedia.org/wiki/Request_for_Comments_(identifier)">RFC</a> <a href="https://tools.ietf.org/html/rfc1909">1909</a>–<a href="https://en.wikipedia.org/wiki/Request_for_Comments_(identifier)">RFC</a> <a href="https://tools.ietf.org/html/rfc1910">1910</a>. This is a compromise that attempts to offer greater security than SNMPv1, but without incurring the high complexity of SNMPv2. A variant of this was commercialized as <i>SNMP v2*</i>, and the mechanism was eventually adopted as one of two security frameworks in SNMP v3.<a href="https://en.wikipedia.org/wiki/Simple_Network_Management_Protocol#cite_note-17">[17]</a>&nbsp;<br/>
<br/>
<b>&nbsp;SNMPv1 &amp; SNMPv2c interoperability</b><br/>
As presently specified, SNMPv2c is incompatible with SNMPv1 in two key areas: message formats and protocol operations. SNMPv2c messages use different header and protocol data unit (PDU) formats from SNMPv1 messages. SNMPv2c also uses two protocol operations that are not specified in SNMPv1. Furthermore, <a href="https://en.wikipedia.org/wiki/Request_for_Comments_(identifier)">RFC</a> <a href="https://tools.ietf.org/html/rfc3584">3584</a>&nbsp;(which obsoletes <a href="https://en.wikipedia.org/wiki/Request_for_Comments_(identifier)">RFC</a> <a href="https://tools.ietf.org/html/rfc2576">2576</a>) defines two possible SNMPv1/v2c coexistence strategies: proxy agents and bilingual network-management systems. <br/>
<br/>
&nbsp;Proxy agents<br/>
An SNMPv2 agent can act as a proxy agent on behalf of SNMPv1 managed devices, as follows: <br/>
&nbsp;<ul><li>An SNMPv2 NMS issues a command intended for an SNMPv1 agent.</li>
<li>The NMS sends the SNMP message to the SNMPv2 proxy agent.</li>
<li>The proxy agent forwards Get, GetNext, and Set messages to the SNMPv1 agent unchanged.</li>
<li>GetBulk messages are converted by the proxy agent to GetNext messages and then are forwarded to the SNMPv1 agent.</li>
</ul>
<br/>
The proxy agent maps SNMPv1 trap messages to SNMPv2 trap messages and then forwards them to the NMS.<br/>
&nbsp;<br/>
&nbsp;Bilingual network-management system<br/>
Bilingual SNMPv2 network-management systems support both SNMPv1 and SNMPv2. To support this dual-management environment, a management application in the bilingual NMS must contact an agent. The NMS then examines information stored in a local database to determine whether the agent supports SNMPv1 or SNMPv2. Based on the information in the database, the NMS communicates with the agent using the appropriate version of SNMP. <br/>
<br/>
<b>&nbsp;Version 3<img src="https://upload.wikimedia.org/wikipedia/en/thumb/f/f2/Edit-clear.svg/40px-Edit-clear.svg.png" width="40" height="40" /></b><br/>
Although SNMPv3 makes no changes to the protocol aside from the addition of cryptographic security, it looks much different due to new textual conventions, concepts, and terminology.<a href="https://en.wikipedia.org/wiki/Simple_Network_Management_Protocol#cite_note-ESNMP-1">[1]</a>&nbsp;The most visible change was to define a secure version of SNMP, by adding security and remote configuration enhancements to SNMP<a href="https://en.wikipedia.org/wiki/Simple_Network_Management_Protocol#cite_note-simpletime-18">[18]</a>&nbsp;- due to lack of security in earlier versions, network administrators often used other means such as <a href="https://en.wikipedia.org/wiki/Telnet">telnet</a>&nbsp;and <a href="https://en.wikipedia.org/wiki/SSH">SSH</a>&nbsp;for configuration, accounting, and fault management. SNMPv3 focuses on two main aspects, namely security and administration. The security aspect is addressed by offering both strong authentication and data encryption for privacy. For the administration aspect, SNMPv3 focuses on two parts, namely notification originators and proxy forwarders. The changes also facilitated remote configuration and administration of the SNMP entities, as well as addressing issues related to the large-scale deployment, accounting, and fault management. <br/>
<br/>
Features and enhancements included: <br/>
&nbsp;<ul><li>Identification of SNMP entities to facilitate communication only between known SNMP entities – Each SNMP entity has an identifier called the SNMPEngineID, and SNMP communication is possible only if an SNMP entity knows the identity of its peer. Traps and Notifications are exceptions to this rule.</li>
<li>Support for security models – A security model may define the security policy within an administrative domain or an intranet. SNMPv3 contains the specifications for USM (User-based Security Model).</li>
<li>Definition of security goals where the goals of message authentication service include protection against the following: </li>
<li style="list-style-type: none"><ul><li>Modification of Information – Protection against some unauthorized SNMP entity altering in-transit messages generated by an authorized principal.</li>
<li>Masquerade – Protection against attempting management operations not authorized for some principal by assuming the identity of another principal that has the appropriate authorizations.</li>
<li>Message Stream Modification – Protection against messages getting maliciously re-ordered, delayed, or replayed to effect unauthorized management operations.</li>
<li>Disclosure – Protection against eavesdropping on the exchanges between SNMP engines.</li>
</ul>
</li>
<li>Specification for USM – USM (User-based Security Model) consists of the general definition of the following communication mechanisms available: </li>
<li style="list-style-type: none"><ul><li>Communication without authentication and privacy (NoAuthNoPriv).</li>
<li>Communication with authentication and without privacy (AuthNoPriv).</li>
<li>Communication with authentication and privacy (AuthPriv).</li>
</ul>
</li>
<li>Definition of different authentication and privacy protocols – Currently, the MD5 and SHA authentication protocols and the CBC_DES and CFB_AES_128 privacy protocols are supported in the USM. <a href="https://datatracker.ietf.org/wg/opsawg/charter/">Operations and Management Area Working Group (OpsAWG)</a>&nbsp;of IETF is currently (March 2015) advancing <a href="https://datatracker.ietf.org/doc/draft-ietf-opsawg-hmac-sha-2-usm-snmp/">HMAC-SHA-2 authentication protocols</a>&nbsp;for USM.</li>
<li>Definition of a discovery procedure – To find the SNMPEngineID of an SNMP entity for a given transport address and transport endpoint address.</li>
<li>Definition of the time synchronization procedure – To facilitate authenticated communication between the SNMP entities.</li>
<li>Definition of the SNMP framework MIB – To facilitate remote configuration and administration of the SNMP entity.</li>
<li>Definition of the USM MIBs – To facilitate remote configuration and administration of the security module.</li>
<li>Definition of the VACM MIBs – To facilitate remote configuration and administration of the access control module.</li>
</ul>
&nbsp;<br/>
Security was one of the biggest weakness of SNMP until v3. Authentication in SNMP Versions 1 and 2 amounts to nothing more than a password (community string) sent in clear text between a manager and agent.<a href="https://en.wikipedia.org/wiki/Simple_Network_Management_Protocol#cite_note-ESNMP-1">[1]</a>&nbsp;Each SNMPv3 message contains security parameters which are encoded as an octet string. The meaning of these security parameters depends on the security model being used.<a href="https://en.wikipedia.org/wiki/Simple_Network_Management_Protocol#cite_note-19">[19]</a>&nbsp;The security approach in v3 targets:<a href="https://en.wikipedia.org/wiki/Simple_Network_Management_Protocol#cite_note-cisco-20">[20]</a>&nbsp;<br/>
&nbsp;<ul><li>Confidentiality – <a href="https://en.wikipedia.org/wiki/Encryption">Encryption</a>&nbsp;of packets to prevent snooping by an unauthorized source.</li>
<li>Integrity – <a href="https://en.wikipedia.org/wiki/Data_integrity">Message integrity</a>&nbsp;to ensure that a packet has not been tampered while in transit including an optional packet replay protection mechanism.</li>
<li><a href="https://en.wikipedia.org/wiki/Authentication">Authentication</a>&nbsp;– to verify that the message is from a valid source.</li>
</ul>
&nbsp;<br/>
v3 also defines the USM and VACM, which were later followed by a transport security model that provided support for SNMPv3 over SSH and SNMPv3 over TLS and DTLS. <br/>
&nbsp;<ul><li>USM (User-based Security Model) provides authentication and privacy (encryption) functions and operates at the message level.</li>
<li>VACM (View-based Access Control Model) determines whether a given principal is allowed access to a particular MIB object to perform specific functions and operates at the PDU level.</li>
<li>TSM (Transport Security Model) provides a method for authenticating and encrypting messages over external security channels. Two transports, SSH and TLS/DTLS, have been defined that make use of the TSM specification.</li>
</ul>
&nbsp;<br/>
<br/>
As of 2004 the <a href="https://en.wikipedia.org/wiki/IETF">IETF</a>&nbsp;recognizes <i>Simple Network Management Protocol version 3</i>&nbsp;as defined by <a href="https://en.wikipedia.org/wiki/Request_for_Comments_(identifier)">RFC</a> <a href="https://tools.ietf.org/html/rfc3411">3411</a>–<a href="https://en.wikipedia.org/wiki/Request_for_Comments_(identifier)">RFC</a> <a href="https://tools.ietf.org/html/rfc3418">3418</a><a href="https://en.wikipedia.org/wiki/Simple_Network_Management_Protocol#cite_note-snmpv3-21">[21]</a>&nbsp;(also known as STD0062) as the current standard version of SNMP. The <a href="https://en.wikipedia.org/wiki/IETF">IETF</a>&nbsp;has designated SNMPv3 a full <a href="https://en.wikipedia.org/wiki/Internet_standard">Internet standard</a>,<a href="https://en.wikipedia.org/wiki/Simple_Network_Management_Protocol#cite_note-22">[22]</a>&nbsp;the highest <a href="https://en.wikipedia.org/wiki/IETF_RFC#Status">maturity level</a>&nbsp;for an RFC. It considers earlier versions to be obsolete (designating them variously "Historic" or "Obsolete").<a href="https://en.wikipedia.org/wiki/Simple_Network_Management_Protocol#cite_note-rfced-15">[15]</a>&nbsp;<br/>
&nbsp; </body></html>