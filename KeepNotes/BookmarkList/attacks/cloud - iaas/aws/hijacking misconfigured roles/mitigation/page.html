<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Mitigation</title>
</head><body>Unless AWS reduces the verbosity of the error messages returned after a failed role assumption, attackers will be able to enumerate role names using this method. Thankfully, mitigating an attack of this nature simply involves avoiding a few simple configuration errors.<br/>
<br/>
Three actionable steps to take to protect your environment:<br/>
<br/>
&nbsp; &nbsp; Require strict AssumeRole policies that specifically list only the AWS service or IAM user/account that needs the additional access<br/>
&nbsp; &nbsp; Don’t use common, guessable names for your AWS resources<br/>
&nbsp; &nbsp; Avoid exposing your AWS account ID to the public<br/>
<br/>
This bruteforcing technique and script will generate a large amount of “iam:AssumeRole” CloudTrail logs in the account you are using for enumeration. Any account you target will not see anything in their CloudTrail logs until you successfully assume a misconfigured role, so that means enumeration is completely log-free on the target account</body></html>